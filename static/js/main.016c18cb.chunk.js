(this.webpackJsonpmobilehouse_calendar=this.webpackJsonpmobilehouse_calendar||[]).push([[0],{344:function(e,t,a){},358:function(e,t){},776:function(e,t,a){"use strict";a.r(t);var n,s,i,c,r,o,u,l,d=a(2),h=a.n(d),m=a(29),b=a.n(m),f=(a(344),a(789)),j=a(23),p=a(140),g=a(141),O=a(155),D=a(154),x=a(324),v=(a(205),a(224),a(142)),k=a(90),S=a.p+"static/media/kuca1.a6c15dd1.jpeg",R=a.p+"static/media/kuca2.2492fd3c.jpeg",w=a.p+"static/media/kuca3.769a14d5.jpeg",y=(a.p,a.p,a.p+"static/media/kuca6.d5fcda6c.jpeg"),C=a(201),I=(a(470),a(325)),Y=a.n(I),_=a(70),M=a(71),F=M.a.div(n||(n=Object(_.a)(["\n    width: 100%;\n"]))),B=M.a.image(s||(s=Object(_.a)(["\n    width: 100%;\n    height: 20vh;\n\n    & > img {\n        \n        width: 100%;\n    }\n"]))),E=M.a.div(i||(i=Object(_.a)(["\n    margin-top: 20px;\n"]))),H=M.a.div(c||(c=Object(_.a)(["\n    position: relative;\n    display: flex;\n    bottom: 0;\n    left: 0;\n    height: 70px;\n    width: 100%;\n    background: black;\n    padding: 20px;\n    margin-top: 50px;\n\n    & > FaFacebook{\n        color: white;\n    }\n"]))),q=M.a.h1(r||(r=Object(_.a)(["\n    font-size: 1.6rem;\n    font-weight: 500;\n    text-align: center;\n    margin-top: 20px;\n"]))),A=M.a.h4(o||(o=Object(_.a)(["\n    font-size: 1.4rem;\n    font-weight: 400;\n    text-align: center;\n    margin-top: 20px;\n    margin-bottom: 20px;\n"]))),N=M.a.h4(u||(u=Object(_.a)(["\n    color: white;\n    font-size: 1.2rem;\n"]))),T=M.a.div(l||(l=Object(_.a)(["\n    width: 80%;\n    max-width: 1300px;\n    margin: 0 auto;\n    align-items: center;\n"]))),W=a(784),z=a(103),P=a(785),Q=a(786),Z=a(787),L=a(788),G=a(8),J=[{original:S,thumbnail:S,thumbnailWidth:350,thumbnailHeight:250},{original:R,thumbnail:R,thumbnailWidth:350,thumbnailHeight:250},{original:w,thumbnail:w,thumbnailWidth:350,thumbnailHeight:250},{original:y,thumbnail:y,thumbnailWidth:350,thumbnailHeight:250}],X=function(e){Object(O.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){n.setState(Object(j.a)({},e,t.target.value))},n.alert=function(){n.setState({startingDate:n.state.startDate&&n.state.startDate.format("ll"),endingDate:n.state.endDate&&n.state.endDate.format("ll")})},n.isBlocked=function(e){return n.state.occupiedDates.some((function(t){return e.isSame(t,"day")}))},n.state={startDate:null,endDate:null,startingDate:"",endingDate:"",nameRef:"",emailRef:"",messageRef:"",numberRef:"",occupiedDates:[]},n.firebaseApp=k.a.apps[0],n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.state.occupiedDates),k.a.firestore().collection("Dates").doc("EY3kntWS5XQZCHvcOQA7").get().then((function(t){e.setState({occupiedDates:t.data().dates})}))}},{key:"componentDidUpdate",value:function(){console.log(this.state.occupiedDates)}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a={from_name:t.nameRef,reply_to:t.emailRef,to_name:"mobilehomes.dream@gmail.com",poruka:t.messageRef,StartDate:t.startingDate,EndDate:t.endingDate,brojGostiju:t.numberRef};x.send("service_mhd","template_m41xhfo",a,"user_3s2VO5yeBewihEufqZfux"),this.resetForm()}},{key:"resetForm",value:function(){this.setState({nameRef:"",emailRef:"",messageRef:"",numberRef:""})}},{key:"render",value:function(){var e=this;return Object(G.jsxs)(F,{children:[Object(G.jsx)(B,{children:Object(G.jsx)(Y.a,{items:J,enableLightbox:!1,enableImageSelection:!0,onClickThumbnail:this.onSelectImage,thumbnailstyle:this.styleSmall})}),Object(G.jsxs)(T,{children:[Object(G.jsx)(q,{children:"Mobile Homes Dream"}),Object(G.jsx)(A,{children:"Register your stay here"}),Object(G.jsx)(v.DateRangePicker,{className:"calendar",startDate:this.state.startDate,startDateId:"your_unique_start_date_id",endDate:this.state.endDate,endDateId:"your_unique_end_date_id",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState({startDate:a,endDate:n})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})},displayFormat:"DD/MM/YYYY",isDayBlocked:this.isBlocked,numberOfMonths:"1"}),Object(G.jsx)("br",{}),Object(G.jsx)(E,{children:Object(G.jsx)(W.a,{flexDirection:"column",children:Object(G.jsxs)("form",{className:"contact-form",onSubmit:this.handleSubmit.bind(this),children:[Object(G.jsxs)(z.a,{isRequired:!0,children:[Object(G.jsx)(P.a,{children:"Name"}),Object(G.jsx)(Q.a,{type:"text",name:"nameRef",className:"nameRef",value:this.state.nameRef,onChange:this.handleChange.bind(this,"nameRef"),autoComplete:"false",ref:this.nameRef})]}),Object(G.jsxs)(z.a,{isRequired:!0,children:[Object(G.jsx)(P.a,{children:"Email"}),Object(G.jsx)(Q.a,{type:"email",name:"emailRef",className:"emailRef",value:this.state.emailRef,onChange:this.handleChange.bind(this,"emailRef"),autoComplete:"false",ref:this.emailRef})]}),Object(G.jsxs)(z.a,{isRequired:!0,children:[Object(G.jsx)(P.a,{children:"Number of guests"}),Object(G.jsx)(Q.a,{type:"number",name:"numberRef",className:"numberRef",value:this.state.numberRef,onChange:this.handleChange.bind(this,"numberRef"),autoComplete:"false",ref:this.numberRef})]}),Object(G.jsxs)(z.a,{children:[Object(G.jsx)(P.a,{children:"Message"}),Object(G.jsx)(Z.a,{name:"messageRef",value:this.state.messageRef,onChange:this.handleChange.bind(this,"messageRef"),autoComplete:"false",ref:this.messageRef})]}),Object(G.jsx)(L.a,{type:"submit",value:"Send",className:"submit",onClick:this.alert,bgColor:"brand.100",mt:"4",children:"Send"})]})})})]}),Object(G.jsxs)(H,{children:[Object(G.jsx)(N,{children:"Follow us on social media:"}),Object(G.jsx)("a",{href:"https://www.facebook.com/Mobile-Homes-Dream-100289145503066",children:Object(G.jsx)(C.a,{style:{color:"white",marginLeft:"20px",fontSize:"1.2rem",marginTop:"6px"}})}),Object(G.jsx)("a",{href:"https://www.instagram.com/mobilehomes.dream/",children:Object(G.jsx)(C.b,{style:{color:"white",marginLeft:"20px",fontSize:"1.4rem",marginTop:"5px"}})})]})]})}}]),a}(d.Component);var K=function(){return Object(G.jsx)(f.a,{children:Object(G.jsx)(X,{})})},U=a(87),V=a(333),$=a(22),ee=a(30),te=(a(481),function(e){Object(O.a)(a,e);var t=Object(D.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).addDatesBetween=function(e,t){for(var a=[],n=e;n<=t;)a.push(n.format("YYYY/MM/DD")),n=n.add(1,"days");return a},n.handleSubmit=function(){alert();var e=n.addDatesBetween(n.state.startDate,n.state.endDate),t=[].concat(Object(ee.a)(n.state.occupiedDates),Object(ee.a)(e));U.a.firestore().collection("Dates").doc("EY3kntWS5XQZCHvcOQA7").set({dates:t})},n.alert=function(){n.setState({startingDate:n.state.startDate&&n.state.startDate.format("YYYY/MM/DD"),endingDate:n.state.endDate&&n.state.endDate.format("YYYY/MM/DD")})},n.isBlocked=function(e){return n.state.occupiedDates.some((function(t){return e.isSame(t,"day")}))},n.state={startDate:null,endDate:null,startingDate:"",endingDate:"",date:"",nameRef:"",emailRef:"",messageRef:"",numberRef:"",occupiedDates:[]},n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;U.a.firestore().collection("Dates").doc("EY3kntWS5XQZCHvcOQA7").get().then((function(t){e.setState({occupiedDates:t.data().dates})}))}},{key:"render",value:function(){var e=this;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(v.DateRangePicker,{startDate:this.state.startDate,startDateId:"your_unique_start_date_id",endDate:this.state.endDate,endDateId:"your_unique_end_date_id",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState({startDate:a,endDate:n})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})},displayFormat:"DD/MM/YYYY",isDayBlocked:this.isBlocked}),Object(G.jsx)("br",{}),Object(G.jsx)("button",{type:"button",onClick:this.handleSubmit,children:"Submit"})]})}}]),a}(d.Component)),ae=a(198),ne=a.n(ae),se=a(332),ie=a(12),ce=h.a.createContext(),re=function(e){var t=Object(d.useState)({email:"",password:""}),a=Object(ie.a)(t,2),n=a[0],s=a[1],i=Object(d.useState)([]),c=Object(ie.a)(i,2),r=c[0],o=c[1],u=Object(d.useState)(null),l=Object(ie.a)(u,2),h=l[0],m=l[1];Object(d.useEffect)((function(){k.a.auth().onAuthStateChanged((function(e){m(e?e.refreshToken:null)}))}),[]);return Object(G.jsx)(ce.Provider,{value:{handleSignup:function(){},handleSignin:function(e){oe.signin(e.email,e.password,o,m)},token:h,inputs:n,setToken:m,setInputs:s,errors:r,handleSignout:function(){oe.signout(o,m)}},children:e.children})},oe={signup:function(e,t,a,n){},signin:function(e,t,a,n){k.a.auth().signInWithEmailAndPassword(e,t).then(function(){var e=Object(se.a)(ne.a.mark((function e(t){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.entries(t.user)[5][1].b;case 2:return a=e.sent,e.next=5,localStorage.setItem("token",a);case 5:n(window.localStorage.token);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a((function(t){return Object(ee.a)(new Set([].concat(Object(ee.a)(t),[e.message])))}))}))},signout:function(e,t){k.a.auth().signOut().then((function(e){localStorage.removeItem("token"),t(null)})).catch((function(a){e((function(e){return Object(ee.a)(new Set([].concat(Object(ee.a)(e),[a.message])))})),localStorage.removeItem("token"),t(null)}))}};var ue=function(){var e=Object(d.useContext)(ce).token,t=Object(d.useContext)(ce),a=t.handleSignin,n=(t.inputs,t.setInputs);return t.errors,e?Object(G.jsx)(te,{}):Object(G.jsx)("div",{children:Object(G.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={email:e.target.email.value,password:e.target.password.value};n(t),a(t)},children:[Object(G.jsx)("input",{name:"email",placeholder:"email"}),Object(G.jsx)("input",{name:"password",placeholder:"password"}),Object(G.jsx)("button",{type:"submit",children:"Submit"})]})})};var le=function(){return Object(d.useEffect)((function(){return function(){}}),[]),Object(G.jsx)(V.a,{children:Object(G.jsxs)($.c,{children:[Object(G.jsx)($.a,{exact:!0,path:"/mobilehouse",component:K}),Object(G.jsx)(re,{children:Object(G.jsx)($.a,{path:"/admin",component:ue})})]})})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,790)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};U.a.initializeApp({apiKey:"AIzaSyBG98IOyn8sF-xYcZx6G0flJC39R1MlH1Y",authDomain:"pakostanekalendar.firebaseapp.com",databaseURL:"https://pakostanekalendar-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pakostanekalendar",storageBucket:"pakostanekalendar.appspot.com",messagingSenderId:"613864478118",appId:"1:613864478118:web:bdda66f1078f14909e6b67",measurementId:"G-4KQRVZTPJZ"}),U.a.analytics(),b.a.render(Object(G.jsx)(h.a.StrictMode,{children:Object(G.jsx)(le,{})}),document.getElementById("root")),de()}},[[776,1,2]]]);
//# sourceMappingURL=main.016c18cb.chunk.js.map